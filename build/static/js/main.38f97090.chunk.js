(this.webpackJsonpslack=this.webpackJsonpslack||[]).push([[0],{100:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(2),a=c.n(s),i=c(26),r=c.n(i),j=(c(78),c(14)),l=(c(79),c(80),c(115)),o=c(51),d=c.n(o),h=c(52),u=c.n(h),b=c(53),O=c.n(b);var m=function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"header__left",children:[Object(n.jsx)(l.a,{src:"https://lh3.googleusercontent.com/ogw/ADGmqu9ASfkG8cYsMC8voWrBP3lG76Rj06hW8yw9TtHvXA=s64-c-mo",alt:"user"}),Object(n.jsx)(d.a,{})]}),Object(n.jsxs)("div",{className:"header__search",children:[Object(n.jsx)(u.a,{}),Object(n.jsx)("input",{className:"search__input",type:"text",placeholder:"Search Blume...."})]}),Object(n.jsx)("div",{className:"header__right",children:Object(n.jsx)(O.a,{})})]})},x=(c(86),c(55)),p=c.n(x),f=c(56),v=c.n(f),g=(c(87),c(9)),_=c(29),N=_.a.initializeApp({apiKey:"AIzaSyDwN0CTeIn-j8xQhxyZuWvbvYKYRvaSQUY",authDomain:"slack-app-2020.firebaseapp.com",databaseURL:"https://slack-app-2020.firebaseio.com",projectId:"slack-app-2020",storageBucket:"slack-app-2020.appspot.com",messagingSenderId:"1072076385618",appId:"1:1072076385618:web:fde0767125e59307b05e8b",measurementId:"G-M1H210G431"}).firestore(),I=_.a.auth(),S=new _.a.auth.GoogleAuthProvider,C=N;var w=function(e){var t=e.Icon,c=e.title,s=e.id,a=e.addChannelOption,i=Object(g.f)();return Object(n.jsxs)("div",{className:"sidebarOption",onClick:a?function(){var e=prompt("Please enter channel name");e&&C.collection("channels").add({name:e})}:function(){s?i.push("/channel/".concat(s)):i.push(c)},children:[t&&Object(n.jsx)(t,{className:"sOption__icon"}),t?Object(n.jsx)("h3",{children:c}):Object(n.jsxs)("h3",{className:"sOption__channel",children:[Object(n.jsx)("span",{className:"sOption__hash",children:"#"})," ",c]})]})},y=c(57),k=c.n(y),D=c(58),T=c.n(D),A=c(59),G=c.n(A),B=c(60),E=c.n(B),F=c(63),P=c.n(F),M=c(61),R=c.n(M),U=c(62),L=c.n(U),W=c(64),Y=c.n(W),z=c(65),H=c.n(z),J=c(66),K=c.n(J),Q=Object(s.createContext)(),q=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(n.jsx)(Q.Provider,{value:Object(s.useReducer)(t,c),children:a})},V=function(){return Object(s.useContext)(Q)};var X=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],i=V(),r=Object(j.a)(i,1)[0].user;return Object(s.useEffect)((function(){C.collection("channels").onSnapshot((function(e){return a(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsxs)("div",{className:"sidebar__header",children:[Object(n.jsxs)("div",{className:"sidebar__info",children:[Object(n.jsx)("h2",{children:"BlumeCTO"}),Object(n.jsxs)("h3",{children:[Object(n.jsx)(p.a,{}),null===r||void 0===r?void 0:r.displayName]})]}),Object(n.jsx)(v.a,{})]}),Object(n.jsx)(w,{Icon:k.a,title:"Threads"}),Object(n.jsx)(w,{Icon:T.a,title:"Mentions & reactions"}),Object(n.jsx)(w,{Icon:G.a,title:"Saved items"}),Object(n.jsx)(w,{Icon:E.a,title:"Channel browser"}),Object(n.jsx)(w,{Icon:R.a,title:"People & user groups"}),Object(n.jsx)(w,{Icon:L.a,title:"Apps"}),Object(n.jsx)(w,{Icon:P.a,title:"File browser"}),Object(n.jsx)(w,{Icon:Y.a,title:"Show less"}),Object(n.jsx)("hr",{}),Object(n.jsx)(w,{Icon:H.a,title:"Channels"}),Object(n.jsx)("hr",{}),Object(n.jsx)(w,{Icon:K.a,addChannelOption:!0,title:"Add Channel"}),c.map((function(e){return Object(n.jsx)(w,{title:e.name,id:e.id})}))]})},Z=c(36),$=(c(96),c(67)),ee=c.n($),te=c(68),ce=c.n(te);c(97);var ne=function(e){var t=e.message,c=e.timestamp,s=e.user,a=e.userImage;return Object(n.jsxs)("div",{className:"message",children:[Object(n.jsx)("img",{src:a,alt:""}),Object(n.jsxs)("div",{className:"message__info",children:[Object(n.jsxs)("h4",{children:[s," ",Object(n.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(n.jsx)("p",{children:t})]})]})},se=(c(98),c(114));var ae=function(e){var t=e.chanId,c=e.channelName,a=Object(s.useState)(""),i=Object(j.a)(a,2),r=i[0],l=i[1],o=V(),d=Object(j.a)(o,1)[0].user;return Object(n.jsx)("div",{className:"chatInput",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{placeholder:"Message #".concat(c.toLowerCase()),value:r,onChange:function(e){return l(e.target.value)},type:"text"}),Object(n.jsx)(se.a,{hidden:!0,type:"submit",onClick:function(e){if(e.preventDefault(),!t)return!1;C.collection("channels").doc(t).collection("messages").add({message:r,timestamp:_.a.firestore.FieldValue.serverTimestamp(),user:d.displayName,userImage:d.photoURL}),l("")},children:"SEND"})]})})};var ie=function(){var e=Object(g.g)().chanId,t=Object(s.useState)(null),c=Object(j.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)([]),l=Object(j.a)(r,2),o=l[0],d=l[1];return Object(s.useEffect)((function(){e&&(C.collection("channels").doc(e).onSnapshot((function(e){i(e.data())})),C.collection("channels").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return d(e.docs.map((function(e){return e.data()})))})))}),[e]),console.log(a),console.log("MESSAGES >>>",o),Object(n.jsx)("div",{className:"chat",children:a&&o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"chat__header",children:[Object(n.jsx)("div",{className:"header__left",children:Object(n.jsxs)("h4",{className:"channel__name",children:[Object(n.jsxs)("strong",{children:["# ",a.name]}),Object(n.jsx)(ee.a,{})]})}),Object(n.jsx)("div",{className:"header__right",children:Object(n.jsxs)("p",{children:[Object(n.jsx)(ce.a,{})," Details"]})})]}),Object(n.jsx)("div",{className:"chat__messages",children:o.map((function(e){var t=e.message,c=e.timestamp,s=e.user,a=e.userImage;return Object(n.jsx)(ne,{message:t,timestamp:c,user:s,userImage:a})}))}),Object(n.jsx)(ae,{channelName:a.name,chanId:e})]})})},re=c(69),je=(c(99),c(42)),le="SET_USER",oe=function(e,t){switch(console.log(t),t.type){case le:return Object(je.a)(Object(je.a)({},e),{},{user:t.user});default:return e}};var de=function(){var e=V(),t=Object(j.a)(e,2);Object(re.a)(t[0]);var c=t[1];return Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("div",{className:"login__container",children:[Object(n.jsx)("img",{src:"https://cdn.mos.cms.futurecdn.net/SDDw7CnuoUGax6x9mTo7dd.jpg",alt:""}),Object(n.jsxs)("div",{className:"login__text",children:[Object(n.jsx)("h1",{children:"Sign in to BlumeChat"}),Object(n.jsx)("p",{children:"blumespace.slack.com"})]}),Object(n.jsx)(se.a,{type:"submit",onClick:function(e){I.signInWithPopup(S).then((function(e){c({type:le,user:e.user})})).catch((function(e){return alert(e.message)}))},children:"Sign in with Google"})]})})};var he=function(){var e=V(),t=Object(j.a)(e,2),c=t[0].user;return t[1],Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(Z.a,{children:c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsxs)("div",{className:"app__body",children:[Object(n.jsx)(X,{}),Object(n.jsxs)(g.c,{children:[Object(n.jsx)(g.a,{path:"/channel/:chanId",children:Object(n.jsx)(ie,{})}),Object(n.jsx)(g.a,{path:"/",children:Object(n.jsx)(ie,{})})]})]})]}):Object(n.jsx)(de,{})})})},ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,116)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(q,{initialState:{user:null},reducer:oe,children:Object(n.jsx)(he,{})})}),document.getElementById("root")),ue()},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[100,1,2]]]);
//# sourceMappingURL=main.38f97090.chunk.js.map